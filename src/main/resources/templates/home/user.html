<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-4.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head th:include="dist/thymeleaf/common_head :: header('个人中心')">
</head>
<body>
<div th:insert="~{dist/thymeleaf/common_head :: #body_js}"></div>
<div id="app">
    <el-container>
        <el-container>
            <el-header th:include="dist/thymeleaf/layout :: header"></el-header>
            <el-main>
                <el-col :md="4" :lg="4" :xl="4" class="hidden-sm-and-down">
                    <el-card th:include="dist/thymeleaf/layout :: userbox"></el-card>
                </el-col>
                <el-col :md="13" :lg="13" :xl="13" :sm="18" :xs="23" :offset="1">
                    <el-row>
                        <h4>修改信息</h4>
                        <el-form
                                :model="ruleForm2" status-icon :rules="rules2" ref="ruleForm2"
                                label-width="100px" class="demo-ruleForm"
                                action="/cms/register/doregister"
                                method="POST" name="register">
                            <el-form-item label="用户名"
                                          prop="colname">
                                <el-input
                                        th:value="${#httpServletRequest.getSession().getAttribute('USER_SESSION').colname}" name="colname"></el-input>
                            </el-form-item>
                            <el-form-item
                                    label="密码" prop="colpassword">
                                <el-input type="password"
                                          v-model="ruleForm2.colpassword" auto-complete="off" name="colpassword"></el-input>
                            </el-form-item>
                            <el-form-item label="确认密码" prop="checkPass">
                                <el-input
                                        type="password" v-model="ruleForm2.checkPass"
                                        auto-complete="off" name="checkPass"></el-input>
                            </el-form-item>
                            <el-form-item prop="colemail" label="邮箱"
                                          :rules="[
      { required: true, message: '请输入邮箱地址', trigger: 'blur' },
      { type: 'email', message: '请输入正确的邮箱地址', trigger: 'blur,change' }
    ]">
                                <el-input th:value="${#httpServletRequest.getSession().getAttribute('USER_SESSION').colemail}" name="colemail"></el-input>
                            </el-form-item>
                            <el-form-item label="学号"
                                          prop="colstudentno">
                                <el-input
                                        th:value="${#httpServletRequest.getSession().getAttribute('USER_SESSION').colstudentno}" name="colstudentno"></el-input>
                            </el-form-item>
                            <el-form-item label="真实姓名"
                                          prop="colrealname">
                                <el-input
                                        th:value="${#httpServletRequest.getSession().getAttribute('USER_SESSION').colrealname}" name="colrealname"></el-input>
                            </el-form-item>
                            <el-form-item>
                                <el-button type="primary"
                                           @click="submitForm('feedbackForm','register/doregister')">提交
                                </el-button>
                                <el-button @click="resetForm('ruleForm2')">重置</el-button>
                            </el-form-item>
                        </el-form>
                    </el-row>
                </el-col>
                <el-col :md="5" :lg="5" :sm="5" :xl="5" class="hidden-xs-only" :offset="1">
                    <el-row>
                        <el-col :span="24">
                            <div class="grid-content">
                                <el-card class="box-card hidden-xs-only">
                                    <div slot="header" class="clearfix">
                                        <span>作业提交倒计时</span>
                                        <span style="color: red"> 功能未完成</span>
                                    </div>
                                    <div class="text item">
                                        <el-table :data="tableHomeworkData" style="width: 100%"
                                                  :default-sort="{prop: 'coursename', order: 'descending'}">
                                            <el-table-column prop="coursename" label="科目" sortable width="180">
                                            </el-table-column>
                                            <el-table-column label="倒计时" sortable>
                                                <template slot-scope="scope">
                                                    {{limitTime(scope.row)}}
                                                </template>
                                            </el-table-column>
                                        </el-table>
                                    </div>
                                </el-card>
                            </div>
                        </el-col>
                    </el-row>
                    <el-row>
                        <el-card class="box-card hidden-xs-only">
                            <div slot="header" class="clearfix">
                                <span>公告</span>
                            </div>
                            <div v-for="o in 4" :key="o" class="text item">
                                {{'公告内容 ' + o }}
                            </div>
                        </el-card>
                    </el-row>
                </el-col>
            </el-main>
            <el-footer th:include="dist/thymeleaf/layout :: footer"></el-footer>
        </el-container>
    </el-container>
</div>
<script th:src="@{/js/user.js}"></script>
<script th:src="@{/js/common.js}"></script>
</body>
</html>
